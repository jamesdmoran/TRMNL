<style>
  .menu-page {
    height: 100%;
    display: flex;
    flex-direction: column;
    margin: 0 !important;
    padding: 0 !important;
    color: #111;
    font-family: "Aptos", "Segoe UI", "Helvetica Neue", Arial, sans-serif;
  }

  .menu-title {
    margin: 0;
    font-size: 28px;
    font-weight: 650;
    line-height: 1.05;
    letter-spacing: -0.02em;
  }

  .title-spacer {
    height: 6px;
  }

  .menu-sections {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    gap: 6px;
  }

  .section-block {
    margin: 0;
    padding: 0;
  }

  .section-name {
    margin: 0;
    font-size: 11px;
    font-weight: 600;
    line-height: 1.1;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    opacity: 0.85;
  }

  .section-items {
    margin: 0;
    font-size: 21px;
    line-height: 1.04;
    font-weight: 500;
    letter-spacing: -0.01em;
  }

  .note-line {
    margin: 0;
    font-size: 13px;
    line-height: 1.1;
    font-weight: 500;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    opacity: 0.8;
  }

  .error-title {
    margin: 0 0 6px 0;
    font-size: 26px;
    font-weight: 700;
    line-height: 1.05;
  }

  .error-body {
    margin: 0;
    font-size: 15px;
    line-height: 1.2;
  }
</style>

<div class="menu-page">
  {% if status == "ok" %}
    <div class="menu-title">St. Mark's Lunch - {{ lunch.date_display }}</div>
    <div class="title-spacer"></div>

    <div class="menu-sections">
      {% if lunch.note %}
        <div class="note-line">{{ lunch.note }}</div>
      {% endif %}

      {% if lunch.stations and lunch.stations.size > 0 %}
        {% for station in lunch.stations %}
          <div class="section-block">
            <div class="section-name">{{ station.name }}</div>
            <div class="section-items">{{ station.items_joined | truncate: 120 }}</div>
          </div>
        {% endfor %}
      {% else %}
        <div class="section-block">
          <ul style="margin: 0; padding-left: 18px;">
            {% for item in lunch.items limit: 12 %}
              <li class="section-items">{{ item | truncate: 50 }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
    </div>
  {% else %}
    <div class="error-title">Menu fetch failed</div>
    <div class="error-body">{{ error | truncate: 200 }}</div>
  {% endif %}
</div>
